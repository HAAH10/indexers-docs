"use strict";(self.webpackChunknear_lake_dock=self.webpackChunknear_lake_dock||[]).push([[2669],{8215:function(e,t,s){s.d(t,{Z:function(){return a}});var l=s(7294);function a(e){var t=e.children,s=e.hidden,a=e.className;return l.createElement("div",{role:"tabpanel",hidden:s,className:a},t)}},9877:function(e,t,s){s.d(t,{Z:function(){return k}});var l=s(7462),a=s(7294),r=s(2389),n=s(5979),o=s(6010),u="tabItem_LplD";function c(e){var t,s,r,c=e.lazy,k=e.block,i=e.defaultValue,p=e.values,d=e.groupId,h=e.className,b=a.Children.map(e.children,(function(e){if((0,a.isValidElement)(e)&&void 0!==e.props.value)return e;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof e.type?e.type:e.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')})),m=null!=p?p:b.map((function(e){var t=e.props;return{value:t.value,label:t.label,attributes:t.attributes}})),y=(0,n.lx)(m,(function(e,t){return e.value===t.value}));if(y.length>0)throw new Error('Docusaurus error: Duplicate values "'+y.map((function(e){return e.value})).join(", ")+'" found in <Tabs>. Every value needs to be unique.');var f=null===i?i:null!=(t=null!=i?i:null==(s=b.find((function(e){return e.props.default})))?void 0:s.props.value)?t:null==(r=b[0])?void 0:r.props.value;if(null!==f&&!m.some((function(e){return e.value===f})))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+f+'" but none of its children has the corresponding value. Available values are: '+m.map((function(e){return e.value})).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");var w=(0,n.UB)(),v=w.tabGroupChoices,j=w.setTabGroupChoices,_=(0,a.useState)(f),g=_[0],C=_[1],B=[],N=(0,n.o5)().blockElementScrollPositionUntilNextRender;if(null!=d){var T=v[d];null!=T&&T!==g&&m.some((function(e){return e.value===T}))&&C(T)}var H=function(e){var t=e.currentTarget,s=B.indexOf(t),l=m[s].value;l!==g&&(N(t),C(l),null!=d&&j(d,l))},x=function(e){var t,s=null;switch(e.key){case"ArrowRight":var l=B.indexOf(e.currentTarget)+1;s=B[l]||B[0];break;case"ArrowLeft":var a=B.indexOf(e.currentTarget)-1;s=B[a]||B[B.length-1]}null==(t=s)||t.focus()};return a.createElement("div",{className:"tabs-container"},a.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,o.Z)("tabs",{"tabs--block":k},h)},m.map((function(e){var t=e.value,s=e.label,r=e.attributes;return a.createElement("li",(0,l.Z)({role:"tab",tabIndex:g===t?0:-1,"aria-selected":g===t,key:t,ref:function(e){return B.push(e)},onKeyDown:x,onFocus:H,onClick:H},r,{className:(0,o.Z)("tabs__item",u,null==r?void 0:r.className,{"tabs__item--active":g===t})}),null!=s?s:t)}))),c?(0,a.cloneElement)(b.filter((function(e){return e.props.value===g}))[0],{className:"margin-vert--md"}):a.createElement("div",{className:"margin-vert--md"},b.map((function(e,t){return(0,a.cloneElement)(e,{key:t,hidden:e.props.value!==g})}))))}function k(e){var t=(0,r.Z)();return a.createElement(c,(0,l.Z)({key:String(t)},e))}},7232:function(e,t,s){s.r(t),s.d(t,{assets:function(){return d},contentTitle:function(){return i},default:function(){return m},frontMatter:function(){return k},metadata:function(){return p},toc:function(){return h}});var l=s(7462),a=s(3366),r=(s(7294),s(3905)),n=s(9877),o=s(8215),u=s(8066),c=["components"],k={sidebar_position:2,sidebar_label:"Block"},i="`Block` Structure",p={unversionedId:"data-flow-and-structures/structures/block",id:"data-flow-and-structures/structures/block",title:"`Block` Structure",description:"Definition",source:"@site/docs/data-flow-and-structures/structures/block.mdx",sourceDirName:"data-flow-and-structures/structures",slug:"/data-flow-and-structures/structures/block",permalink:"/near-lake-dock/docs/data-flow-and-structures/structures/block",editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/data-flow-and-structures/structures/block.mdx",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2,sidebar_label:"Block"},sidebar:"tutorialSidebar",previous:{title:"Table of contents",permalink:"/near-lake-dock/docs/data-flow-and-structures/structures/toc"},next:{title:"Chunk",permalink:"/near-lake-dock/docs/data-flow-and-structures/structures/chunk"}},d={},h=[{value:"Definition",id:"definition",level:2},{value:"Representation",id:"representation",level:2},{value:"<code>Block</code>",id:"block",level:3},{value:"<code>BlockHeaderView</code>",id:"blockheaderview",level:3}],b={toc:h};function m(e){var t=e.components,s=(0,a.Z)(e,c);return(0,r.kt)("wrapper",(0,l.Z)({},b,s,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"block-structure"},(0,r.kt)("inlineCode",{parentName:"h1"},"Block")," Structure"),(0,r.kt)("h2",{id:"definition"},"Definition"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Block")," is the main entity in NEAR Protocol blockchain. ",(0,r.kt)("inlineCode",{parentName:"p"},"Blocks")," are produced in NEAR Protocol every second."),(0,r.kt)("p",null,"It contains the info:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"about the ",(0,r.kt)("inlineCode",{parentName:"li"},"Block")," producer (",(0,r.kt)("inlineCode",{parentName:"li"},"AccountId")," of the validator responsible for particular ",(0,r.kt)("inlineCode",{parentName:"li"},"Block")," production)"),(0,r.kt)("li",{parentName:"ul"},"Block Header"),(0,r.kt)("li",{parentName:"ul"},"List of Chunk Headers")),(0,r.kt)("h2",{id:"representation"},"Representation"),(0,r.kt)("h3",{id:"block"},(0,r.kt)("inlineCode",{parentName:"h3"},"Block")),(0,r.kt)(n.Z,{mdxType:"Tabs"},(0,r.kt)(o.Z,{value:"rust",label:"Rust",default:!0,mdxType:"TabItem"},(0,r.kt)(u.Z,{className:"language-rust",mdxType:"CodeBlock"},(0,r.kt)("span",{class:"hljs-keyword"},"pub")," ",(0,r.kt)("span",{class:"hljs-keyword"},"struct")," ",(0,r.kt)("span",{class:"hljs-title class_"},"BlockView")," {",(0,r.kt)("br",null),"    ",(0,r.kt)("span",{class:"hljs-keyword"},"pub")," author: ",(0,r.kt)("a",{href:"/docs/data-flow-and-structures/structures/account_id",class:"indexer-hightlight"},"AccountId"),",",(0,r.kt)("br",null),"    ",(0,r.kt)("span",{class:"hljs-keyword"},"pub")," header: ",(0,r.kt)("a",{href:"#blockheaderview",class:"indexer-hightlight"},"BlockHeaderView"),",",(0,r.kt)("br",null),"    ",(0,r.kt)("span",{class:"hljs-keyword"},"pub")," chunks: ",(0,r.kt)("span",{class:"hljs-type"},"Vec"),"<",(0,r.kt)("a",{href:"/docs/data-flow-and-structures/structures/chunk#chunkheaderview",class:"indexer-hightlight"},"ChunkHeaderView"),">,",(0,r.kt)("br",null),"}")),(0,r.kt)(o.Z,{value:"json",label:"JSON",mdxType:"TabItem"},(0,r.kt)(u.Z,{className:"language-js",mdxType:"CodeBlock"},"{",(0,r.kt)("br",null),"  ",(0,r.kt)("span",{class:"hljs-string"},'"author"'),": ",(0,r.kt)("span",{class:"hljs-string"},'"account.near"'),",",(0,r.kt)("br",null),"  ",(0,r.kt)("span",{class:"hljs-string"},'"header"'),": { ",(0,r.kt)("a",{href:"#blockheaderview",class:"indexer-hightlight"},"BlockHeaderView")," },",(0,r.kt)("br",null),"  ",(0,r.kt)("span",{class:"hljs-string"},'"chunks"'),": [ ",(0,r.kt)("a",{href:"/docs/data-flow-and-structures/structures/chunk#chunkheaderview",class:"indexer-hightlight"},"ChunkHeaderView")," ],",(0,r.kt)("br",null),"}"))),(0,r.kt)("h3",{id:"blockheaderview"},(0,r.kt)("inlineCode",{parentName:"h3"},"BlockHeaderView")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"BlockHeaderView")," contains main info about the block."),(0,r.kt)(n.Z,{mdxType:"Tabs"},(0,r.kt)(o.Z,{value:"rust",label:"Rust",mdxType:"TabItem"},(0,r.kt)(u.Z,{className:"language-rust",mdxType:"CodeBlock"},(0,r.kt)("span",{class:"hljs-keyword"},"pub")," ",(0,r.kt)("span",{class:"hljs-keyword"},"struct")," ",(0,r.kt)("span",{class:"hljs-title class_"},"BlockHeaderView")," {",(0,r.kt)("br",null),"    ",(0,r.kt)("span",{class:"hljs-keyword"},"pub")," height: BlockHeight,",(0,r.kt)("br",null),"    ",(0,r.kt)("span",{class:"hljs-keyword"},"pub")," prev_height: ",(0,r.kt)("span",{class:"hljs-type"},"Option"),"<BlockHeight>,",(0,r.kt)("br",null),"    ",(0,r.kt)("span",{class:"hljs-keyword"},"pub")," epoch_id: CryptoHash,",(0,r.kt)("br",null),"    ",(0,r.kt)("span",{class:"hljs-keyword"},"pub")," next_epoch_id: CryptoHash,",(0,r.kt)("br",null),"    ",(0,r.kt)("span",{class:"hljs-keyword"},"pub")," hash: CryptoHash,",(0,r.kt)("br",null),"    ",(0,r.kt)("span",{class:"hljs-keyword"},"pub")," prev_hash: CryptoHash,",(0,r.kt)("br",null),"    ",(0,r.kt)("span",{class:"hljs-keyword"},"pub")," prev_state_root: CryptoHash,",(0,r.kt)("br",null),"    ",(0,r.kt)("span",{class:"hljs-keyword"},"pub")," chunk_receipts_root: CryptoHash,",(0,r.kt)("br",null),"    ",(0,r.kt)("span",{class:"hljs-keyword"},"pub")," chunk_headers_root: CryptoHash,",(0,r.kt)("br",null),"    ",(0,r.kt)("span",{class:"hljs-keyword"},"pub")," chunk_tx_root: CryptoHash,",(0,r.kt)("br",null),"    ",(0,r.kt)("span",{class:"hljs-keyword"},"pub")," outcome_root: CryptoHash,",(0,r.kt)("br",null),"    ",(0,r.kt)("span",{class:"hljs-keyword"},"pub")," chunks_included: ",(0,r.kt)("span",{class:"hljs-type"},"u64"),",",(0,r.kt)("br",null),"    ",(0,r.kt)("span",{class:"hljs-keyword"},"pub")," challenges_root: CryptoHash,",(0,r.kt)("br",null),"    ",(0,r.kt)("span",{class:"hljs-comment"},"/// Legacy json number. Should not be used."),(0,r.kt)("br",null),"    ",(0,r.kt)("span",{class:"hljs-keyword"},"pub")," timestamp: ",(0,r.kt)("span",{class:"hljs-type"},"u64"),",",(0,r.kt)("br",null),"    ",(0,r.kt)("span",{class:"hljs-meta"},"#[serde(with = ",(0,r.kt)("span",{class:"hljs-string"},'"u64_dec_format"'),")]"),(0,r.kt)("br",null),"    ",(0,r.kt)("span",{class:"hljs-keyword"},"pub")," timestamp_nanosec: ",(0,r.kt)("span",{class:"hljs-type"},"u64"),",",(0,r.kt)("br",null),"    ",(0,r.kt)("span",{class:"hljs-keyword"},"pub")," random_value: CryptoHash,",(0,r.kt)("br",null),"    ",(0,r.kt)("span",{class:"hljs-keyword"},"pub")," validator_proposals: ",(0,r.kt)("span",{class:"hljs-type"},"Vec"),"<ValidatorStakeView>,",(0,r.kt)("br",null),"    ",(0,r.kt)("span",{class:"hljs-keyword"},"pub")," chunk_mask: ",(0,r.kt)("span",{class:"hljs-type"},"Vec"),"<",(0,r.kt)("span",{class:"hljs-type"},"bool"),">,",(0,r.kt)("br",null),"    ",(0,r.kt)("span",{class:"hljs-meta"},"#[serde(with = ",(0,r.kt)("span",{class:"hljs-string"},'"u128_dec_format"'),")]"),(0,r.kt)("br",null),"    ",(0,r.kt)("span",{class:"hljs-keyword"},"pub")," gas_price: Balance,",(0,r.kt)("br",null),"    ",(0,r.kt)("span",{class:"hljs-keyword"},"pub")," block_ordinal: ",(0,r.kt)("span",{class:"hljs-type"},"Option"),"<NumBlocks>,",(0,r.kt)("br",null),"    ",(0,r.kt)("span",{class:"hljs-comment"},"/// TODO(2271): deprecated."),(0,r.kt)("br",null),"    ",(0,r.kt)("span",{class:"hljs-meta"},"#[serde(with = ",(0,r.kt)("span",{class:"hljs-string"},'"u128_dec_format"'),")]"),(0,r.kt)("br",null),"    ",(0,r.kt)("span",{class:"hljs-keyword"},"pub")," rent_paid: Balance,",(0,r.kt)("br",null),"    ",(0,r.kt)("span",{class:"hljs-comment"},"/// TODO(2271): deprecated."),(0,r.kt)("br",null),"    ",(0,r.kt)("span",{class:"hljs-meta"},"#[serde(with = ",(0,r.kt)("span",{class:"hljs-string"},'"u128_dec_format"'),")]"),(0,r.kt)("br",null),"    ",(0,r.kt)("span",{class:"hljs-keyword"},"pub")," validator_reward: Balance,",(0,r.kt)("br",null),"    ",(0,r.kt)("span",{class:"hljs-meta"},"#[serde(with = ",(0,r.kt)("span",{class:"hljs-string"},'"u128_dec_format"'),")]"),(0,r.kt)("br",null),"    ",(0,r.kt)("span",{class:"hljs-keyword"},"pub")," total_supply: Balance,",(0,r.kt)("br",null),"    ",(0,r.kt)("span",{class:"hljs-keyword"},"pub")," challenges_result: ChallengesResult,",(0,r.kt)("br",null),"    ",(0,r.kt)("span",{class:"hljs-keyword"},"pub")," last_final_block: CryptoHash,",(0,r.kt)("br",null),"    ",(0,r.kt)("span",{class:"hljs-keyword"},"pub")," last_ds_final_block: CryptoHash,",(0,r.kt)("br",null),"    ",(0,r.kt)("span",{class:"hljs-keyword"},"pub")," next_bp_hash: CryptoHash,",(0,r.kt)("br",null),"    ",(0,r.kt)("span",{class:"hljs-keyword"},"pub")," block_merkle_root: CryptoHash,",(0,r.kt)("br",null),"    ",(0,r.kt)("span",{class:"hljs-keyword"},"pub")," epoch_sync_data_hash: ",(0,r.kt)("span",{class:"hljs-type"},"Option"),"<CryptoHash>,",(0,r.kt)("br",null),"    ",(0,r.kt)("span",{class:"hljs-keyword"},"pub")," approvals: ",(0,r.kt)("span",{class:"hljs-type"},"Vec"),"<",(0,r.kt)("span",{class:"hljs-type"},"Option"),"<Signature>>,",(0,r.kt)("br",null),"    ",(0,r.kt)("span",{class:"hljs-keyword"},"pub")," signature: Signature,",(0,r.kt)("br",null),"    ",(0,r.kt)("span",{class:"hljs-keyword"},"pub")," latest_protocol_version: ProtocolVersion,",(0,r.kt)("br",null),"}")),(0,r.kt)(o.Z,{value:"json",label:"JSON",mdxType:"TabItem"})))}m.isMDXComponent=!0}}]);