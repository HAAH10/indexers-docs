"use strict";(self.webpackChunknear_lake_dock=self.webpackChunknear_lake_dock||[]).push([[9168],{8215:function(e,a,t){t.d(a,{Z:function(){return n}});var r=t(7294);function n(e){var a=e.children,t=e.hidden,n=e.className;return r.createElement("div",{role:"tabpanel",hidden:t,className:n},a)}},9877:function(e,a,t){t.d(a,{Z:function(){return c}});var r=t(7462),n=t(7294),o=t(2389),s=t(5979),i=t(6010),l="tabItem_LplD";function d(e){var a,t,o,d=e.lazy,c=e.block,u=e.defaultValue,p=e.values,m=e.groupId,h=e.className,v=n.Children.map(e.children,(function(e){if((0,n.isValidElement)(e)&&void 0!==e.props.value)return e;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof e.type?e.type:e.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')})),f=null!=p?p:v.map((function(e){var a=e.props;return{value:a.value,label:a.label,attributes:a.attributes}})),k=(0,s.lx)(f,(function(e,a){return e.value===a.value}));if(k.length>0)throw new Error('Docusaurus error: Duplicate values "'+k.map((function(e){return e.value})).join(", ")+'" found in <Tabs>. Every value needs to be unique.');var b=null===u?u:null!=(a=null!=u?u:null==(t=v.find((function(e){return e.props.default})))?void 0:t.props.value)?a:null==(o=v[0])?void 0:o.props.value;if(null!==b&&!f.some((function(e){return e.value===b})))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+b+'" but none of its children has the corresponding value. Available values are: '+f.map((function(e){return e.value})).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");var x=(0,s.UB)(),N=x.tabGroupChoices,g=x.setTabGroupChoices,w=(0,n.useState)(b),y=w[0],E=w[1],T=[],j=(0,s.o5)().blockElementScrollPositionUntilNextRender;if(null!=m){var I=N[m];null!=I&&I!==y&&f.some((function(e){return e.value===I}))&&E(I)}var R=function(e){var a=e.currentTarget,t=T.indexOf(a),r=f[t].value;r!==y&&(j(a),E(r),null!=m&&g(m,r))},_=function(e){var a,t=null;switch(e.key){case"ArrowRight":var r=T.indexOf(e.currentTarget)+1;t=T[r]||T[0];break;case"ArrowLeft":var n=T.indexOf(e.currentTarget)-1;t=T[n]||T[T.length-1]}null==(a=t)||a.focus()};return n.createElement("div",{className:"tabs-container"},n.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,i.Z)("tabs",{"tabs--block":c},h)},f.map((function(e){var a=e.value,t=e.label,o=e.attributes;return n.createElement("li",(0,r.Z)({role:"tab",tabIndex:y===a?0:-1,"aria-selected":y===a,key:a,ref:function(e){return T.push(e)},onKeyDown:_,onFocus:R,onClick:R},o,{className:(0,i.Z)("tabs__item",l,null==o?void 0:o.className,{"tabs__item--active":y===a})}),null!=t?t:a)}))),d?(0,n.cloneElement)(v.filter((function(e){return e.props.value===y}))[0],{className:"margin-vert--md"}):n.createElement("div",{className:"margin-vert--md"},v.map((function(e,a){return(0,n.cloneElement)(e,{key:a,hidden:e.props.value!==y})}))))}function c(e){var a=(0,o.Z)();return n.createElement(d,(0,r.Z)({key:String(a)},e))}},1998:function(e,a,t){t.r(a),t.d(a,{assets:function(){return m},contentTitle:function(){return u},default:function(){return f},frontMatter:function(){return c},metadata:function(){return p},toc:function(){return h}});var r=t(7462),n=t(3366),o=(t(7294),t(3905)),s=t(8066),i=t(9877),l=t(8215),d=["components"],c={sidebar_position:3},u="NEAR Indexer for Explorer",p={unversionedId:"projects/near-indexer-for-explorer",id:"projects/near-indexer-for-explorer",title:"NEAR Indexer for Explorer",description:"https://github.com/near/near-indexer-for-explorer",source:"@site/docs/projects/near-indexer-for-explorer.mdx",sourceDirName:"projects",slug:"/projects/near-indexer-for-explorer",permalink:"/near-lake-dock/docs/projects/near-indexer-for-explorer",editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/projects/near-indexer-for-explorer.mdx",tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"tutorialSidebar",previous:{title:"NEAR Indexer Framework",permalink:"/near-lake-dock/docs/projects/near-indexer-framework"},next:{title:"NEAR Lake",permalink:"/near-lake-dock/docs/projects/near-lake"}},m={},h=[{value:"Description",id:"description",level:2},{value:"Shared read-only access to the databases",id:"shared-read-only-access-to-the-databases",level:2}],v={toc:h};function f(e){var a=e.components,t=(0,n.Z)(e,d);return(0,o.kt)("wrapper",(0,r.Z)({},v,t,{components:a,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"near-indexer-for-explorer"},"NEAR Indexer for Explorer"),(0,o.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"GitHub repo")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},(0,o.kt)("a",{parentName:"p",href:"https://github.com/near/near-indexer-for-explorer"},"https://github.com/near/near-indexer-for-explorer")))),(0,o.kt)("h2",{id:"description"},"Description"),(0,o.kt)("p",null,"NEAR Indexer for Explorer is an indexer built on top of ",(0,o.kt)("a",{parentName:"p",href:"./near-indexer-framework"},"NEAR Indexer microframework"),". It watches the network and stores all the data from the blockchain in the PostgreSQL database."),(0,o.kt)("p",null,"This projects serves the needs of ",(0,o.kt)("a",{parentName:"p",href:"https://explorer.near.org/"},"NEAR Explorer")," (it's obvious from the project name though)."),(0,o.kt)("p",null,"We run instances of the project for both testnet and mainnet and feeling the PostgreSQL databases with all the data from the network starting from the genesis as ",(0,o.kt)("a",{parentName:"p",href:"https://explorer.near.org/"},"Explorer")," required."),(0,o.kt)("h2",{id:"shared-read-only-access-to-the-databases"},"Shared read-only access to the databases"),(0,o.kt)("p",null,"We run the indexer and maintain it for ",(0,o.kt)("a",{parentName:"p",href:"https://explorer.near.org/"},"NEAR Explorer"),", ",(0,o.kt)("a",{parentName:"p",href:"https://wallet.near.org"},"NEAR Wallet"),", and some other internal services. It proved to be a great source of data for various analysis and services, so we decided to give a shared read-only public access to the data:"),(0,o.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"NOTE")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"Please, keep in mind that the access to the database is shared across everyone in the world, so it is better to make sure you limit the amount of queris and individual queries are efficient."))),(0,o.kt)(i.Z,{mdxType:"Tabs"},(0,o.kt)(l.Z,{value:"testnet",label:"testnet",default:!0,mdxType:"TabItem"},(0,o.kt)(s.Z,{className:"language-null",mdxType:"CodeBlock"},(0,o.kt)("span",{class:"hljs-symbol"},"postgres:"),"//public_readonly:nearprotocol@testnet",(0,o.kt)("span",{class:"hljs-meta"},".db"),".explorer.indexer.near.dev/testnet_explorer")),(0,o.kt)(l.Z,{value:"mainnet",label:"mainnet",mdxType:"TabItem"},(0,o.kt)(s.Z,{className:"language-null",mdxType:"CodeBlock"},(0,o.kt)("span",{class:"hljs-symbol"},"postgres:"),"//public_readonly:nearprotocol@mainnet",(0,o.kt)("span",{class:"hljs-meta"},".db"),".explorer.indexer.near.dev/mainnet_explorer"))),(0,o.kt)("div",{className:"admonition admonition-caution alert alert--warning"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"WARNING")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"We may evolve the data schemas, so make sure you follow the release notes of this repository."))),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://github.com/near/near-indexer-for-explorer/blob/master/docs/near-indexer-for-explorer-db.png?raw=true",alt:"Data Schema"})))}f.isMDXComponent=!0}}]);